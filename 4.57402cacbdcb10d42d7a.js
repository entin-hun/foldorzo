(self.webpackChunk_converdy_website_builder=self.webpackChunk_converdy_website_builder||[]).push([[4,349],{0:(e,t,r)=>{"use strict";function s(e){let t="";const{protocol:r,host:s,href:n}=window.location;return t=e?e.startsWith("http")?e:e.startsWith("www")?`${r}//${e}`:e.startsWith("/")?`${r}//${s}${e}`:`${r}//${s}/${e}`:n,t}function n(e,t){const r=s(e),n=new URLSearchParams(new URL(r).search);return n.set("order_secret",t),`${s(e)}?${n.toString()}`}function i(){return this.$route?this.$route.params.projectId:window.__CONVERDY_LOCALIZED__.projectId}function o(e,t){const r=t&&t.length?t[0].slug:"";if(!e)return r;switch(e.type){case"none":return"";case"page":const s=t.find((t=>t.id===e.pageId));if(!s)return r;const{location:{host:n,pathname:i}}=window;return/(generator|website)\.converdy/.test(n)&&i.includes("preview")?`${i.slice(0,i.lastIndexOf("/"))}/${s.settings.slug}`:s.settings.slug;case"external":return e.url}}function a(e){const t=[];return e.customer_info.email||t.push("Please fill in your email address"),e.billing_info.country||t.push("Filling in your country is required"),e.items.length||t.push("You have no items to order! Please select a pricing option"),t}function c(e,t,r,s){const n={};return e&&(n.standard=e/100),t&&(n.reduced=t/100),r&&(n.superReduced=r/100),s&&(n.parking=s/100),n}r.d(t,{iL:()=>u,ZH:()=>l,Z2:()=>n,HN:()=>i,hr:()=>o,_L:()=>a}),r(1349),c(24,10),c(21,6,null,12),c(20),c(25,13,5),c(19,5),c(21,10),c(25),c(20,9),c(24,14),c(19,7),c(24,13,6),c(27,18,5),c(23,13.5,9),c(22,10,5),c(21,12,5),c(21,9,5),c(17,8,3,14),c(18,5),c(21,9),c(23,8,5),c(20,13,6),c(20,9,5),c(20,10),c(22,9.5),c(21,10,4),c(25,12,6),c(20,5);var d=r(373);function u(){return(0,d.Ri)("c-prev-order_secret")||new URLSearchParams(window.location.search).get("order_secret")}function l(){return"something"}},399:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});const s=()=>window.__CONVERDY__.api_url;async function n(e,t={}){const r=await fetch(`${s()}${e}`,t);if(r.ok)return await r.json();throw await r.json()}const i={checkVatNumber:async function(e){return(await fetch(`${s()}/public/check_vat_number`,{method:"POST",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify({vat_number:e})})).ok},fetchProduct:async function(e){return await n(`/public/products/${e}`)},fetchStoreConfig:async function(e){return await n(`/public/projects/${e}/storeConfig`)},fetchCompletedOrders:async function(e){return await n(`/public/orders/fetchCompletedOrders?order_secret=${e}`)},payInvoice:async function(e){return await n("/public/payInvoice",{method:"POST",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify(e)})},placeOrder:async function(e){return await n("/public/placeOrder",{method:"POST",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify(e)})},placeUpsell:async function(e){return await n("/public/placeUpsell",{method:"POST",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify(e)})},fetchIpDetails:async function(){return await n("/public/ip_details")},fetchPaymentIntegrationId:async function(e){return await n(`/public/payment-integrations?orderSecret=${e}`)}}},500:(e,t,r)=>{(t=r(5077)(!1)).push([e.id,".order-items-header[data-v-3266d606]{display:flex;justify-content:space-between;align-items:center;padding:20px;background:var(--color-greyLight)}.order-item[data-v-3266d606]{display:flex;justify-content:space-between;align-items:center;padding:20px 0}.order-items-footer[data-v-3266d606]{display:flex;justify-content:flex-end;margin-top:15px}",""]),e.exports=t},1349:()=>{},7004:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var s=r(399),n=r(0);const i=[{order_number:"1000",billing_info:{first_name:"John",last_name:"Doe"},shipping_info:{first_name:"John",last_name:"Doe"},items:[{quantity:1,product:{name:"Dummy Product"}}],debited_amount:100,credited_amount:100,date:"2020-09-04T07:53:03.894+00:00"}],o={name:"COrderConfirmation",components:{},props:{properties:Object},data:()=>({responseOrders:[]}),computed:{orders(){return this.responseOrders.length?this.responseOrders:i},projectId(){return window.__CONVERDY_LOCALIZED__.projectId||this.$route.params.projectId},firstName(){return this.orders[0].billing_info.first_name},orderSecret:()=>(0,n.iL)(),sessionId:()=>(0,n.ZH)()},async mounted(){const e=[this.fetchOrder()];await Promise.all(e)},methods:{async fetchOrder(){try{const e=await s.A.fetchCompletedOrders(this.orderSecret,this.sessionId);this.responseOrders=e.orders}catch(e){console.log(e)}}}};r(9998);const a=(0,r(7311).A)(o,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("BaseEl",{staticClass:"root"},[r("div",{staticClass:"wrapper"},[r("div",{staticClass:"order-confirmation-header"},[r("h2",{staticClass:"confirmTitle text mediumHeading"},[e._v(e._s(e.properties.confirmTitle))]),r("h3",{staticClass:"confirmCustomer text smallHeading"},[e._v("Hello "+e._s(e.firstName)+",")]),r("p",{attrs:{lass:"confirmText text"}},[e._v(e._s(e.properties.confirmText))])]),e._l(e.orders,(function(t){return r("div",{key:t._id,staticClass:"order-items"},[r("div",{staticClass:"order-items-header"},[r("p",{attrs:{lass:"text"}},[e._v("Order #"+e._s(t.order_number))])]),r("div",{staticClass:"order-items-list"},e._l(t.items,(function(t,s){return r("div",{key:s,staticClass:"order-item"},[r("span",{staticClass:"text"},[e._v(e._s(t.product.name))]),r("span",{staticClass:"text"},[e._v("Quantity: "+e._s(t.quantity))])])})),0),r("div",{staticClass:"order-items-footer"},[r("p",{staticClass:"text"},[e._v("Total: "+e._s(t.debited_amount))])])])}))],2)])}),[],!1,null,"3266d606",null).exports},9998:(e,t,r)=>{var s=r(500);s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[e.id,s,""]]),s.locals&&(e.exports=s.locals),(0,r(8665).A)("58bf8eb6",s,!0,{})}}]);