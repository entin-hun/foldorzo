(self.webpackChunk_converdy_website_builder=self.webpackChunk_converdy_website_builder||[]).push([[440],{1238:(e,t,i)=>{var s=i(3520);s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[e.id,s,""]]),s.locals&&(e.exports=s.locals),(0,i(8665).A)("975f5e84",s,!0,{})},3520:(e,t,i)=>{(t=i(5077)(!1)).push([e.id,".item[data-v-54d54650]{min-width:25%}@media only screen and (max-width: 768px){.countdown[data-v-54d54650]{grid-gap:18px}.item[data-v-54d54650]{padding:15px}.time[data-v-54d54650]{font-size:20px}}@media only screen and (max-width: 576px){.countdown[data-v-54d54650]{grid-gap:10px}.item[data-v-54d54650]{padding:15px}.label[data-v-54d54650]{font-size:14px}}",""]),e.exports=t},5440:(e,t,i)=>{"use strict";function s(e,t=0,i=0,s=0){return e.setDate(e.getDate()+Number(t)),new Date(e.getTime()+(60*s*1e3+60*i*60*1e3))}i.r(t),i.d(t,{default:()=>r});const n={name:"CCountdown",props:["properties","elementId"],data:()=>({interval:!1,endDate:!1,remaining:{days:0,hours:0,minutes:0,seconds:0},expired:!1}),watch:{properties(){this.endDate=this.getEndDate()}},serverPrefetch(){const{pageId:e,type:t}=this.properties.expireAction;if(t&&"page"===t&&e){const t=this.$ssrContext.funnel.pages.find((t=>t.id===e));if(!t)return;this.properties.expireAction.url=t.settings.slug}},mounted(){this.updateRemaining(),this.interval=setInterval((()=>{this.updateRemaining()}),1e3)},beforeDestroy(){this.destroy()},methods:{getLabel(e){return this.properties[`${e}Label`]},getEndDate(){const{type:e,toDateDate:t,evergreenDays:i,evergreenHours:n,evergreenMinutes:r,evergreenFixedDays:a,evergreenFixedHours:d,evergreenFixedMinutes:o}=this.properties;let p="";if("client"===window.__CONVERDY_ENV__&&this.properties.useCookie&&(p=this.$getCookie(`${this.properties.elementId}CountdownDate`),p))return p;switch(e){case"toDate":p=t;break;case"evergreen":p=s(new Date,i,n,r);break;case"evergreenFixedTime":p=s(new Date,a),p.setHours(d),p.setMinutes(o),p.setSeconds(0)}return"client"===window.__CONVERDY_ENV__&&this.properties.useCookie&&this.$setCookie(`${this.properties.elementId}CountdownDate`,p),p},updateRemaining(){this.endDate||(this.endDate=this.getEndDate()),this.remaining=this.timeRemaining(this.endDate,this.properties.display)},timeRemaining(e,t=["days","hours","minutes","seconds"]){let i=0,s=0,n=0,r=0;const a=(new Date).getTime();e=new Date(e).getTime();let d=parseInt((e-a)/1e3);return d>0?(t.includes("days")&&(i=parseInt(parseInt(d/86400),10),d%=86400),t.includes("hours")&&(s=parseInt(d/3600),s=String(s).length<2?"0"+s:s,d%=3600),t.includes("minutes")&&(n=parseInt(d/60),n=String(n).length<2?"0"+n:n,d%=60),t.includes("seconds")&&(r=parseInt(d),r=String(r).length<2?"0"+r:r)):(this.expired=!0,this.handleExpire()),{days:i,hours:s,minutes:n,seconds:r}},handleExpire(){if("client"!==window.__CONVERDY_ENV__)return;this.destroy();const{type:e,url:t,show:i,hide:s}=this.properties.expireAction;switch(e){case"external":case"page":location.href=t;break;default:document.dispatchEvent(new CustomEvent(e,{detail:this.properties.expireAction}))}},destroy(){window.clearInterval(this.interval)}}};i(1238);const r=(0,i(7311).A)(n,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseEl",{staticClass:"countdown CCountdown"},[e._l(e.remaining,(function(t,s){return[e.properties.display.includes(s)?i("div",{key:s,staticClass:"item"},[i("div",{staticClass:"time"},[e._v(e._s(t))]),i("div",{staticClass:"label"},[e._v(e._s(e.getLabel(s)))])]):e._e()]}))],2)}),[],!1,null,"54d54650",null).exports}}]);