(self.webpackChunk_converdy_website_builder=self.webpackChunk_converdy_website_builder||[]).push([[929],{408:(e,t,i)=>{(t=i(5077)(!1)).push([e.id,'.mb-4[data-v-764193a2]{margin-bottom:1rem}.checkout-billing-fields[data-v-764193a2]{margin-bottom:20px}.two-cols[data-v-764193a2]{display:grid;grid-gap:15px;grid-template-columns:1fr 1fr}.input[data-v-764193a2]{width:100%;display:block;margin-bottom:15px;-moz-appearance:none;-webkit-appearance:none;appearance:none}.select-field[data-v-764193a2]{position:relative}.select-field[data-v-764193a2]:after{pointer-events:none;position:absolute;font-family:"converdy";font-weight:900;font-size:20px;content:"";top:0;right:0;width:30px;height:100%;margin-top:15px}@media screen and (max-width: 769px){.two-cols[data-v-764193a2]{display:grid;grid-gap:0;grid-template-columns:1fr}}',""]),e.exports=t},2641:(e,t,i)=>{(t=i(5077)(!1)).push([e.id,".divider[data-v-1fe2ba10]{width:100%;height:1px;background:var(--color-greyDefault);margin-top:15px;margin-bottom:15px}",""]),e.exports=t},3547:(e,t,i)=>{var n=i(5449);n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals),(0,i(8665).A)("6a227c36",n,!0,{})},3829:(e,t,i)=>{(t=i(5077)(!1)).push([e.id,'.checkout-billing-fields[data-v-2590e3af]{margin-bottom:20px}.two-cols[data-v-2590e3af]{display:grid;grid-gap:15px;grid-template-columns:1fr 1fr}.input[data-v-2590e3af]{width:100%;display:block;margin-bottom:15px;-moz-appearance:none;-webkit-appearance:none;appearance:none}.select-field[data-v-2590e3af]{position:relative}.select-field[data-v-2590e3af]:after{pointer-events:none;position:absolute;font-family:"converdy";font-weight:900;font-size:20px;content:"";top:0;right:0;width:30px;height:100%;margin-top:15px}@media screen and (max-width: 769px){.two-cols[data-v-2590e3af]{display:grid;grid-gap:0;grid-template-columns:1fr}}',""]),e.exports=t},3940:(e,t,i)=>{(t=i(5077)(!1)).push([e.id,".checkout-order-bump{padding:20px;border-radius:var(--themeShape);border:1px solid var(--color-greyDefault);background-color:var(--color-white);margin-bottom:20px}.order-bump-title{display:flex;margin-bottom:15px;align-items:center;justify-content:space-between}.order-bump-button{display:inline-flex;padding:10px;border-radius:var(--themeShape);border:1px solid var(--color-greyDefault);margin-top:15px;cursor:pointer;align-items:center}.order-bump-button .text{cursor:pointer}.order-bump-button.checked .indicator{background:var(--color-primary);border:1px solid var(--color-primary)}.order-bump-button .indicator{display:block;width:15px;height:15px;border-radius:100%;border:1px solid var(--color-greyDefault);margin-right:15px}",""]),e.exports=t},4509:(e,t,i)=>{(t=i(5077)(!1)).push([e.id,".wrapper[data-v-7cd99cf6] .two-cols{display:grid;grid-gap:15px;grid-template-columns:1fr 1fr}.wrapper[data-v-7cd99cf6] .mb-4{margin-bottom:1rem}.wrapper[data-v-7cd99cf6] .mt-4{margin-top:1rem}.wrapper[data-v-7cd99cf6] .ml-2{margin-left:.5rem}.wrapper[data-v-7cd99cf6] .mr-2{margin-right:.5rem}.payment-options-list .item[data-v-7cd99cf6]{position:relative;display:inline-flex;align-items:flex-start;border:var(--themeBorderThickness) solid var(--color-greyDefault);border-radius:var(--themeShape);padding:15px;margin-bottom:10px;margin-right:10px;background:#fff}.payment-options-list .title[data-v-7cd99cf6]{display:block}.wrapper[data-v-7cd99cf6] input[type=radio]{-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:0;-webkit-print-color-adjust:exact;color-adjust:exact;display:inline-block;vertical-align:middle;background-origin:border-box;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;flex-shrink:0;height:1rem;width:1rem;color:var(--color-primary);background-color:#fff;border-color:var(--color-greyDefault);border-width:1px}.wrapper[data-v-7cd99cf6] input[type=radio][type=radio]{border-radius:100%}.wrapper[data-v-7cd99cf6] input[type=radio][type=radio]:checked{border-color:var(--color-primary);background-color:var(--color-primary);background-image:url(\"data:image/svg+xml,%3csvg viewBox='0 0 16 16' fill='white' xmlns='http://www.w3.org/2000/svg'%3e%3ccircle cx='8' cy='8' r='3'/%3e%3c/svg%3e\")}.wrapper[data-v-7cd99cf6] input[type=radio][type=checkbox]{border-radius:100%;border-radius:.25rem}.wrapper[data-v-7cd99cf6] input[type=radio][type=checkbox]:checked{border-color:var(--color-primary);background-color:var(--color-primary);background-image:url(\"data:image/svg+xml,%3csvg viewBox='0 0 16 16' fill='white' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M12.207 4.793a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0l-2-2a1 1 0 011.414-1.414L6.5 9.086l4.293-4.293a1 1 0 011.414 0z'/%3e%3c/svg%3e\")}.form[data-v-7cd99cf6]{display:block}.checkout-billing-toggle[data-v-7cd99cf6]{margin-bottom:15px}.button-container[data-v-7cd99cf6]{margin-top:20px}@media only screen and (max-width: 768px){.checkout-payment-summary[data-v-7cd99cf6]{position:relative}}.checkout-coupon>div[data-v-7cd99cf6]{display:flex;justify-content:space-between}.checkout-coupon>div span[data-v-7cd99cf6]{height:50px;line-height:50px;cursor:pointer}.checkout-coupon>div .input[data-v-7cd99cf6]{display:block;width:80%}.remove[data-v-7cd99cf6]{color:var(--color-primary);font-weight:bold;cursor:pointer}.checkout.input[data-v-7cd99cf6]{width:100%;display:block;margin-bottom:15px;-moz-appearance:none;-webkit-appearance:none;appearance:none}.checkout-payment-summary[data-v-7cd99cf6]{margin-bottom:20px}.summary-receipt[data-v-7cd99cf6]{padding:15px;border-radius:4px;border:1px solid var(--color-greyDefault);background:#fff}.summary-total[data-v-7cd99cf6]{display:flex;justify-content:space-between}.summary-coupon[data-v-7cd99cf6]{margin-bottom:15px;display:flex;justify-content:space-between}.summary-pricing-description[data-v-7cd99cf6]{text-align:center}.summary-item-line-1[data-v-7cd99cf6]{display:flex;justify-content:space-between}.summary-item-line-2[data-v-7cd99cf6]{display:flex;justify-content:space-between}.summary-receipt .empty[data-v-7cd99cf6]{padding:20px;text-align:center;color:var(--color-greyDefault)}.checkout-payment-options .payment-options[data-v-7cd99cf6]{display:flex;justify-content:space-between;margin-bottom:15px;flex-flow:row wrap;align-items:stretch;gap:12px}.checkout-payment-options .payment-options .payment-option[data-v-7cd99cf6]{flex-grow:1;cursor:pointer;background-color:#fff;border-radius:var(--themeShape);border:var(--themeBorderThickness) solid var(--color-greyDefault);min-width:200px;color:var(--color-primary)}.checkout-payment-options .payment-options .payment-option.active[data-v-7cd99cf6]{border-color:var(--color-primary)}.checkout-payment-options .payment-options .payment-option div[data-v-7cd99cf6]{display:flex;justify-content:center;align-items:center;padding:20px}.checkout-payment-options .payment-options .payment-option div img[data-v-7cd99cf6]{height:30px;margin-right:15px}",""]),e.exports=t},4915:(e,t,i)=>{var n=i(4509);n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals),(0,i(8665).A)("30aff1a4",n,!0,{})},5322:(e,t,i)=>{(t=i(5077)(!1)).push([e.id,".checkbox-wrapper[data-v-67955094]{display:flex;align-items:center;margin-bottom:16px}.checkbox-wrapper input[data-v-67955094]{-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:0;-webkit-print-color-adjust:exact;color-adjust:exact;display:inline-block;vertical-align:middle;background-origin:border-box;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;flex-shrink:0;height:1rem;width:1rem;color:#2563eb;background-color:#fff;border-color:#6b7280;border-width:1px}.checkbox-wrapper input[type=radio][data-v-67955094]{border-radius:100%}.checkbox-wrapper input[type=radio][data-v-67955094]:checked{background-color:var(--color-primary);background-image:url(\"data:image/svg+xml,%3csvg viewBox='0 0 16 16' fill='white' xmlns='http://www.w3.org/2000/svg'%3e%3ccircle cx='8' cy='8' r='3'/%3e%3c/svg%3e\")}.checkbox-wrapper input[type=checkbox][data-v-67955094]{border-radius:100%;border-radius:.25rem}.checkbox-wrapper input[type=checkbox][data-v-67955094]:checked{background-color:var(--color-primary);background-image:url(\"data:image/svg+xml,%3csvg viewBox='0 0 16 16' fill='white' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M12.207 4.793a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0l-2-2a1 1 0 011.414-1.414L6.5 9.086l4.293-4.293a1 1 0 011.414 0z'/%3e%3c/svg%3e\")}",""]),e.exports=t},5323:(e,t,i)=>{var n=i(3829);n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals),(0,i(8665).A)("4d32ecd8",n,!0,{})},5449:(e,t,i)=>{(t=i(5077)(!1)).push([e.id,".checkout-payment-options[data-v-7041e5f4]{margin-bottom:20px}.checkout-payment-options .payment-options[data-v-7041e5f4]{height:65px}.checkout-payment-options .payment-options .payment-options-stripe[data-v-7041e5f4]{display:grid;grid-auto-flow:column;grid-gap:15px}.checkout-payment-options .payment-options .payment-options-stripe .payment-option[data-v-7041e5f4]{padding:20px;background-color:#fff;border-radius:var(--themeShape);border:var(--themeBorderThickness) solid var(--color-greyDefault);cursor:pointer}.checkout-payment-options .payment-options .payment-options-stripe .payment-option div[data-v-7041e5f4]{display:flex;align-items:center;justify-content:center;color:var(--color-primary)}.checkout-payment-options .payment-options .payment-options-stripe .payment-option i[data-v-7041e5f4]{margin-right:15px;color:var(--color-primary);font-size:24px}.checkout-payment-options .payment-options .payment-options-stripe .payment-option.active[data-v-7041e5f4]{color:var(--color-primary);border-color:var(--color-primary)}.checkout-payment-options .payment-options .payment-options-stripe .payment-option.active div[data-v-7041e5f4],.checkout-payment-options .payment-options .payment-options-stripe .payment-option.active i[data-v-7041e5f4]{color:var(--color-primary)}",""]),e.exports=t},5534:(e,t,i)=>{var n=i(9844);n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals),(0,i(8665).A)("93eb3f0a",n,!0,{})},8402:(e,t,i)=>{var n=i(3940);n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals),(0,i(8665).A)("aaecbfa4",n,!0,{})},8654:(e,t,i)=>{var n=i(408);n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals),(0,i(8665).A)("6871c898",n,!0,{})},8929:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>I});const n=(e,t="usd")=>new Intl.NumberFormat("en-US",{style:"currency",currency:t}).format(e),a={props:{pricingOptions:{type:Array,default:()=>[]},value:{type:String,default:null},currencyCode:{type:String,default:"€"},params:{type:Object,default:()=>{}}},data:()=>({pricingOption:""}),methods:{currency:n},created(){this.params&&this.params.pricing_option?this.$emit("input",this.pricingOptions[this.params.pricing_option]._id):this.pricingOptions.length&&!this.value&&this.$emit("input",this.pricingOptions[0]._id)}};i(9760);var r=i(7311);const o=(0,r.A)(a,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.pricingOptions.length?i("div",{staticClass:"checkout-pricing-options"},e._l(e.pricingOptions,(function(t){return i("div",{key:t._id,staticClass:"pricing-option"},[i("label",{staticClass:"pricing-option-label",class:{active:e.value==t._id}},[i("input",{attrs:{id:"pricing-option-"+t._id,type:"radio",name:"pricingOption"},domProps:{checked:e.value==t._id,value:t._id},on:{input:function(i){return e.$emit("input",t._id)}}}),i("div",{staticClass:"text-group ml-2"},[i("span",{staticClass:"text name"},[i("div",[i("span",{staticClass:"text"},[e._v(e._s(t.name))]),t.description?i("p",{staticClass:"text"},[e._v("\n              "+e._s(t.description)+"\n            ")]):e._e()])]),i("span",{staticClass:"price"},[i("span",{staticClass:"text"},[e._v(e._s(e.currency(t.price,e.currencyCode)))])])])])])})),0):e._e()}),[],!1,null,"3cfa0048",null).exports,s={props:{value:Object,properties:Object},methods:{handleChange(e,t){this.$emit("input",{...this.value,[e]:t.target.value})}}};i(5534);const p=(0,r.A)(s,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"checkout-billing-fields"},[i("label",{staticClass:"baseLabel"},[e._v("Email")]),i("input",{staticClass:"input",attrs:{placeholder:"Email address"},domProps:{value:e.value.email},on:{input:function(t){return e.handleChange("email",t)}}})])}),[],!1,null,"26b2399e",null).exports,c=i(4864).countries.all.filter((e=>"assigned"==e.status));var l=i(399);i(9624);const d={components:{ShippingIsBilling:(0,r.A)({props:["value","properties"]},(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("label",{staticClass:"checkbox-wrapper"},[i("input",{attrs:{type:"checkbox"},domProps:{checked:e.value},on:{change:function(t){return e.$emit("input",t.target.checked)}}}),i("span",{staticClass:"checkbox-mark"}),i("div",{staticClass:"description ml-2"},[e._v("Same as shipping information")])])}),[],!1,null,"67955094",null).exports},props:{value:Object,properties:Object},data:()=>({assignedCountries:c}),computed:{countries(){return this.countryFilter(this.assignedCountries)}},methods:{handleChange(e,t){this.$emit("input",{...this.value,[e]:t.target.value})},countryFilter(e){let t=this.properties.billingFields.country.custom,i=this.properties.billingFields.country.customCountries;return e.filter((e=>!t||!Array.isArray(i)||i.includes(e.name)))}},async created(){this.value.country||(this.value.country=(await l.A.fetchIpDetails()).country_code)}};i(8654);const u=(0,r.A)(d,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.properties.billingFields.active?i("div",{staticClass:"checkout-billing-fields"},[i("h2",{staticClass:"text smallHeading fields-heading mb-4"},[e._v("Billing address")]),e.properties.billingFields.same_as_shipping.enabled?i("ShippingIsBilling",{attrs:{properties:e.properties},model:{value:e.value.same_as_shipping,callback:function(t){e.$set(e.value,"same_as_shipping",t)},expression:"value.same_as_shipping"}}):e._e(),e.value.same_as_shipping?e._e():i("div",[i("div",{staticClass:"two-cols"},[e.properties.billingFields.first_name.enabled?i("div",[i("label",{staticClass:"baseLabel"},[e._v("First Name")]),i("input",{staticClass:"input",attrs:{placeholder:"First name"},domProps:{value:e.value.first_name},on:{input:function(t){return e.handleChange("first_name",t)}}})]):e._e(),e.properties.billingFields.last_name.enabled?i("div",[i("label",{staticClass:"baseLabel"},[e._v("Last Name")]),i("input",{staticClass:"input",attrs:{placeholder:"Last name"},domProps:{value:e.value.last_name},on:{input:function(t){return e.handleChange("last_name",t)}}})]):e._e()]),e.properties.billingFields.telephone.enabled?i("div",[i("label",{staticClass:"baseLabel"},[e._v("Phone")]),i("input",{staticClass:"input",attrs:{placeholder:"Phone number"},domProps:{value:e.value.telephone},on:{input:function(t){return e.handleChange("telephone",t)}}})]):e._e(),e.properties.billingFields.addressLine1.enabled?[i("label",{staticClass:"baseLabel"},[e._v("Street and house number")]),i("input",{staticClass:"input",attrs:{placeholder:"Street and housenumber"},domProps:{value:e.value.addressLine1},on:{input:function(t){return e.handleChange("addressLine1",t)}}})]:e._e(),i("label",{staticClass:"baseLabel"},[e._v("Country")]),i("div",{staticClass:"select-field"},[i("select",{staticClass:"input",domProps:{value:e.value.country},on:{input:function(t){return e.handleChange("country",t)}}},[i("option",{attrs:{value:"",disabled:""}},[e._v("Select your country")]),e._l(e.countries,(function(t){return i("option",{key:t.alpha2,domProps:{value:t.alpha2}},[e._v("\n          "+e._s(t.name)+"\n        ")])}))],2)]),"US"==e.value.country?i("div",{staticClass:"two-cols"},[e.properties.billingFields.postalCode.enabled?i("div",[i("label",{staticClass:"baseLabel"},[e._v("Postal code")]),i("input",{staticClass:"input",attrs:{placeholder:"Postal code"},domProps:{value:e.value.postalCode},on:{input:function(t){return e.handleChange("postalCode",t)}}})]):e._e(),e.properties.billingFields.stateProvince.enabled?i("div",[i("label",{staticClass:"baseLabel"},[e._v("State / Province")]),i("input",{staticClass:"input",attrs:{placeholder:"State or province"},domProps:{value:e.value.stateProvince},on:{input:function(t){return e.handleChange("stateProvince",t)}}})]):e._e()]):e._e(),e.properties.billingFields.city.enabled?i("div",[i("label",{staticClass:"baseLabel"},[e._v("City")]),i("input",{staticClass:"input",attrs:{placeholder:"City"},domProps:{value:e.value.city},on:{input:function(t){return e.handleChange("city",t)}}})]):e._e()],2)],1):e._e()}),[],!1,null,"764193a2",null).exports,m={props:{value:Object,properties:Object},data:()=>({assignedCountries:c}),computed:{countries(){return this.countryFilter(this.assignedCountries)}},methods:{handleChange(e,t){this.$emit("input",{...this.value,[e]:t.target.value})},countryFilter(e){let t=this.properties.shippingFields.country.custom,i=this.properties.shippingFields.country.customCountries;return e.filter((e=>!t||!Array.isArray(i)||i.includes(e.name)))}},async created(){this.value.country||(this.value.country=(await l.A.fetchIpDetails()).country_code)}};i(5323);const h=(0,r.A)(m,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.properties.shippingFields.active?i("div",{staticClass:"checkout-shipping-fields"},[i("h2",{staticClass:"text smallHeading fields-heading mb-4"},[e._v("Shipping address")]),i("div",[i("div",{staticClass:"two-cols"},[e.properties.shippingFields.first_name.enabled?i("div",[i("label",{staticClass:"baseLabel"},[e._v("First Name")]),i("input",{staticClass:"input",attrs:{placeholder:"First name"},domProps:{value:e.value.first_name},on:{input:function(t){return e.handleChange("first_name",t)}}})]):e._e(),e.properties.shippingFields.last_name.enabled?i("div",[i("label",{staticClass:"baseLabel"},[e._v("Last Name")]),i("input",{staticClass:"input",attrs:{placeholder:"Last name"},domProps:{value:e.value.last_name},on:{input:function(t){return e.handleChange("last_name",t)}}})]):e._e()]),e.properties.shippingFields.telephone.enabled?i("div",[i("label",{staticClass:"baseLabel"},[e._v("Phone")]),i("input",{staticClass:"input",attrs:{placeholder:"Phone number"},domProps:{value:e.value.telephone},on:{input:function(t){return e.handleChange("telephone",t)}}})]):e._e(),e.properties.shippingFields.addressLine1.enabled?[i("label",{staticClass:"baseLabel"},[e._v("Street and house number")]),i("input",{staticClass:"input",attrs:{placeholder:"Street and housenumber"},domProps:{value:e.value.addressLine1},on:{input:function(t){return e.handleChange("addressLine1",t)}}})]:e._e(),i("label",{staticClass:"baseLabel"},[e._v("Country")]),i("div",{staticClass:"select-field"},[i("select",{staticClass:"input",domProps:{value:e.value.country},on:{input:function(t){return e.handleChange("country",t)}}},[i("option",{attrs:{value:"",disabled:""}},[e._v("Select your country")]),e._l(e.countries,(function(t){return i("option",{key:t.alpha2,domProps:{value:t.alpha2}},[e._v("\n          "+e._s(t.name)+"\n        ")])}))],2)]),i("div",{staticClass:"two-cols"},[e.properties.shippingFields.postalCode.enabled?i("div",[i("label",{staticClass:"baseLabel"},[e._v("Postal code")]),i("input",{staticClass:"input",attrs:{placeholder:"Postal code"},domProps:{value:e.value.postalCode},on:{input:function(t){return e.handleChange("postalCode",t)}}})]):e._e(),e.properties.shippingFields.stateProvince.enabled?i("div",[i("label",{staticClass:"baseLabel"},[e._v("State / Province")]),i("input",{staticClass:"input",attrs:{placeholder:"State or province"},domProps:{value:e.value.stateProvince},on:{input:function(t){return e.handleChange("stateProvince",t)}}})]):e._e()]),e.properties.shippingFields.city.enabled?i("div",[i("label",{staticClass:"baseLabel"},[e._v("City")]),i("input",{staticClass:"input",attrs:{placeholder:"City"},domProps:{value:e.value.city},on:{input:function(t){return e.handleChange("city",t)}}})]):e._e()],2)]):e._e()}),[],!1,null,"2590e3af",null).exports,g={props:{properties:Object,product:Object,pricingOptionId:String,checked:Boolean},computed:{pricingOption(){return this.product.pricing_options.find((e=>e._id===this.pricingOptionId))},price(){return`${this.pricingOption.currency} ${this.pricingOption.price}`}},methods:{currency:n}};i(8402);const v=(0,r.A)(g,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"checkout-order-bump"},[i("label",{staticClass:"baseLabel"},[e._v("Don't miss out!")]),i("div",[i("div",{staticClass:"order-bump-title"},[i("h4",{staticClass:"text smallHeading"},[e._v(e._s(e.pricingOption.name))]),i("h4",{staticClass:"text smallHeading"},[e._v(e._s(e.currency(this.pricingOption.price,this.pricingOption.currency)))])]),i("p",{staticClass:"text"},[e._v(e._s(e.pricingOption.description))]),i("label",{staticClass:"order-bump-button",class:{checked:e.checked}},[i("input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{type:"checkbox"},domProps:{checked:e.checked},on:{change:function(t){return e.$emit("change",t.target.checked)}}}),i("span",{staticClass:"indicator"}),i("span",{staticClass:"text"},[e._v(e._s(e.properties.orderBump.buttonText))])])])])}),[],!1,null,null,null).exports,f={props:{paymentIntegration:Object,paymentIntegrationInstance:Object},data:()=>({providerInstance:null}),async mounted(){this.$emit("update:paymentIntegrationInstance",this.providerInstance)}};i(3547);const y=(0,r.A)(f,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"checkout-payment-options"},[i("label",{staticClass:"baseLabel"},[e._v("Payment Method")]),i("div",{staticClass:"payment-options"},[i("div",{staticClass:"payment-options-stripe"},[i("label",{staticClass:"payment-option active",attrs:{for:"paymentOptionStripeCard"}},[i("input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{id:"paymentOptionStripeCard",type:"radio",value:"card",name:"paymentOption"}}),e._m(0)])])])]),i("div",{attrs:{id:"payment-container"}})])}),[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("i",{staticClass:"c-icon icon-credit-card"}),e._v(" Credit Card")])}],!1,null,"7041e5f4",null).exports;var _=i(0),b=i(2002);i(9679);const C=(0,r.A)({components:{},props:{}},(function(){var e=this;e.$createElement;return e._self._c,e._m(0)}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("div",{staticClass:"divider"})])}],!1,null,"1fe2ba10",null).exports;var x=i(373),w=i(4583),k=i.n(w);const O={name:"COrderFormNew",components:{CheckoutPricingOptions:o,CheckoutCustomerFields:p,CheckoutBillingFields:u,CheckoutShippingFields:h,CheckoutOrderBump:v,Payment:y,BaseButton:b.A,Divider:C},props:{properties:Object},inject:["funnelInfo"],watch:{orderInProgress(e){this.$preventInteraction(e)},includeOrderBump(e){this.dataChanged()},shipping_is_billing(e){this.dataChanged()},async selectedPayment(e){document.querySelector(".checkout-payment-fields").innerHTML='<div id="payment-input"></div>',await k()({scope:"destroyUi",paymentIntegration:this.prevSelectedPaymentIntegrationObject,data:{paymentOption:this.prevSelectedPaymentOption}}),await k()({scope:"renderUi",paymentIntegration:this.selectedPaymentIntegrationObject,data:{paymentOption:this.selectedPaymentOption,currency:this.currency}})},customer_info(e){this.dataChanged()},billing_info(e){this.dataChanged()},shipping_info(e){this.dataChanged()},pricingOptionId(e){this.dataChanged()},"properties.productId"(e){this.fetchProduct()},"properties.orderBump.productId"(e){this.properties.orderBump.pricingOptionId&&this.fetchOrderBump()},"properties.orderBump.pricingOptionId"(e){this.properties.orderBump.productId&&this.fetchOrderBump()}},data:()=>({params:{},pricing:{},sessionId:"",pricingData:null,sessionData:null,interval:null,intervalSemafor:!0,debounceSemafor:!0,paymentIntegrationInstance:null,currency:"not set",checkoutErrors:[],selectedPaymentOption:"",prevSelectedPaymentOption:"",selectedPaymentIntegration:"",prevSelectedPaymentIntegration:"",selectedPayment:"",fetchingProduct:!1,fetchingOrderBump:!1,fetchingPaymentOptions:!1,storeConfigLoaded:!1,sellerCountry:null,paymentIntegration:{},product:null,pricingOptionId:void 0,orderBump:null,includeOrderBump:!1,orderInProgress:!1,customer_info:{email:void 0},shipping_info:{first_name:void 0,last_name:void 0,email:void 0,country:void 0},billing_info:{same_as_shipping:!1,first_name:void 0,last_name:void 0,email:void 0,country:void 0},showCoupon:!1,coupon:"",couponError:"",is_business:!1,vat_number:void 0,payment_processor:void 0,payment_method_type:void 0,orderResponse:{order_id:null,order_secret:null,invoice_id:null,payment_info:null,payment_result:null},stripe:{card:{element:null,error:null,empty:void 0,complete:void 0},ideal:{element:null,error:null,empty:void 0,complete:void 0},paymentIntent:null}}),computed:{isClient:()=>"undefined"!=typeof window&&"client"===window.__CONVERDY_ENV__,projectId(){return this.funnelInfo.projectId},funnelId(){return this.funnelInfo.funnelId},pricingOptions(){return this.product?this.product.pricing_options:[]},hasOrderBump(){return this.properties.orderBump&&this.properties.orderBump.productId&&this.properties.orderBump.pricingOptionId},redirectUrl(){return(0,_.hr)(this.properties.action,window.__CONVERDY_LOCALIZED__.pages)},orderItems(){const e=[];return this.pricingOptionId&&e.push({quantity:1,product:this.product,pricing_option_id:this.pricingOptionId}),this.includeOrderBump&&e.push({quantity:1,product:this.orderBump.product,pricing_option_id:this.orderBump.pricingOption._id}),e},paymentMethods(){return this.paymentIntegrations.reduce(((e,t)=>e.concat(t.data.integrationSettings.paymentMethods.filter((e=>e.value)).map((e=>({...e,paymentIntegration:t._id}))))),[])},selectedPaymentIntegrationObject(){return this.paymentIntegrations.find((e=>e._id==this.selectedPaymentIntegration))},prevSelectedPaymentIntegrationObject(){return this.paymentIntegrations.find((e=>e._id==this.prevSelectedPaymentIntegration))},orderItemDtos(){return this.orderItems.map((e=>({product_id:e.product._id,pricing_option_id:e.pricing_option_id})))},orderDto(){const e={project_id:this.projectId,funnel_id:this.funnelId,customer_info:this.customer_info,billing_info:this.billing_info,shipping_info:this.shipping_info,items:this.orderItemDtos,payment_info:{payment_processor:this.payment_processor,payment_method_type:this.payment_method_type}};this.coupon&&(e.coupon_code=this.coupon),e.shipping_is_billing||(e.shipping_info=this.shipping_info);const t=(0,x.Ri)(this.projectId);return t&&(e.caffs=t),this.is_business&&this.vat_number&&(e.is_business=this.is_business,e.vat_number=this.vat_number),this.params&&(e.meta_data=this.params),e}},async beforeDestroy(){this.interval&&clearInterval(this.interval)},async mounted(){if(window.__CONVERDY__.is_export)this.checkoutErrors.push("Payment form is not available in exported websites");else{const e=new URLSearchParams(window.location.search),t=Object.fromEntries(e.entries()),i=window.location.href.substring(0,window.location.href.lastIndexOf("."))+window.location.href.substring(window.location.href.lastIndexOf(".")).split("/")[0];window.__CONVERDY__PAYMENT={},window.__CONVERDY__PAYMENT.orderDto=()=>this.orderDto,window.__CONVERDY__PAYMENT.processNextPaymentStep=k(),window.__CONVERDY__PAYMENT.redirectUrl=()=>-1==this.redirectUrl.indexOf("http")?i+"/"+this.redirectUrl:this.redirectUrl,window.__CONVERDY__PAYMENT.selectedPaymentOption=()=>this.selectedPaymentOption,window.__CONVERDY__PAYMENT.validate=()=>(this.checkoutErrors=(0,_._L)(this.orderDto),this.checkoutErrors),this.params=t,this.interval=setInterval((async()=>{if(this.debounceSemafor)if(this.intervalSemafor){const e={customer_info:{...this.customer_info},shipping_info:{...this.shipping_info},billing_info:{...this.billing_info},pricingOptionId:this.pricingOptionId,coupon:this.coupon,includeOrderBump:this.includeOrderBump};JSON.stringify(this.sessionData)!=JSON.stringify(e)&&(this.sessionId=(await(await fetch(`${window.__CONVERDY__.api_url}/public/sessions`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({customer_info:{...this.customer_info},shipping_info:{...this.shipping_info},billing_info:{...this.billing_info},pricingOptionId:this.pricingOptionId,coupon:this.coupon,includeOrderBump:this.includeOrderBump,sessionId:this.sessionId,elementId:this.properties.elementId})})).json())._id,this.sessionData={...e},(0,x.TV)("converdy_checkout_session",this.sessionId,31536e3),this.intervalSemafor=!1)}else this.intervalSemafor=!0;else this.debounceSemafor=!0}),1e3);const n=[this.fetchProduct(),this.fetchStoreConfig()];if(this.hasOrderBump&&n.push(this.fetchOrderBump()),await Promise.all(n),this.sessionId=(0,x.Ri)("converdy_checkout_session")||"",this.sessionId){let e=await(await fetch(`${window.__CONVERDY__.api_url}/public/sessions/${this.sessionId}`)).json();e&&(e=e.data,this.properties.elementId==e.elementId&&(e.customer_info&&(this.customer_info=e.customer_info),e.billing_info&&(this.billing_info=e.billing_info),e.pricingOptionId&&(this.pricingOptionId=e.pricingOptionId),e.shipping_info&&(this.shipping_info=e.shipping_info),e.coupon&&(this.coupon=e.coupon),this.includeOrderBump=e.includeOrderBump,this.sessionData={customer_info:{...this.customer_info},billing_info:{...this.billing_info},shipping_info:this.shipping_info,pricingOptionId:this.pricingOptionId,coupon:this.coupon,includeOrderBump:this.includeOrderBump}))}await k()({scope:"renderUi",paymentIntegration:this.selectedPaymentIntegrationObject,data:{paymentOption:this.selectedPaymentOption,currency:this.currency}}),"client"===window.__CONVERDY_ENV__&&this.dki(this.$refs.form.$el),await this.dataChanged()}},methods:{async applyCoupon(){await this.dataChanged(),0==this.pricing.receipt.totalDiscount?(this.couponError="Coupon not found !",this.coupon=""):this.couponError=""},async removeCoupon(){this.coupon="",await this.dataChanged()},formatCurrency:n,initiateCheckoutEvent(){window.__CONVERDY__.createEvent&&window.__CONVERDY__.createEvent({scope:"checkout",name:"InitiateCheckout"})},dki(){const e=this.$getCookie("params",{});e["contact-email"]&&(this.customer_info.email=e["contact-email"]),e["contact-first-name"]&&(this.billing_info.first_name=e["contact-first-name"]),e["contact-last-name"]&&(this.billing_info.last_name=e["contact-last-name"])},handlePaymentOptionChange({processor:e,type:t}){this.payment_processor=e,this.payment_method_type=t},handleVatDetailsChange({isBusiness:e,vatNumber:t}){this.is_business=e,this.vat_number=t},handleStripeElementChange(e){this.stripe[this.payment_method_type].error=e.error},async fetchProduct(){const e=this.properties.productId;try{this.product=await l.A.fetchProduct(e)}catch(e){console.log(e)}},async dataChanged(){this.debounceSemafor=!1;const e={billing_info:{country:this.billing_info.country},shipping_info:{country:this.shipping_info.country},pricingOptionId:this.pricingOptionId,coupon:this.coupon,includeOrderBump:this.includeOrderBump};JSON.stringify(this.pricingData)!=JSON.stringify(e)&&(this.pricingData=e,this.pricing=await(await fetch(`${window.__CONVERDY__.api_url}/public/payments/calculatePrice`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.orderDto)})).json())},async fetchOrderBump(){const{productId:e,pricingOptionId:t}=this.properties.orderBump,i=await l.A.fetchProduct(e);this.orderBump={product:i,pricingOption:i.pricing_options.find((e=>e._id===t))}},async fetchStoreConfig(){try{const e=await l.A.fetchStoreConfig(this.projectId);this.sellerCountry=e.seller_country,this.paymentIntegrations=e.payment_integrations,this.currency=e.currency,this.storeConfigLoaded=!0,this.properties.preferredPaymentMethod&&this.paymentMethods.find((e=>e.name==this.properties.preferredPaymentMethod))?(this.selectedPaymentOption=this.properties.preferredPaymentMethod,this.selectedPaymentIntegration=this.paymentMethods.find((e=>e.name==this.properties.preferredPaymentMethod)).paymentIntegration):(this.selectedPaymentOption=this.paymentMethods[0].name,this.selectedPaymentIntegration=this.paymentMethods[0].paymentIntegration)}catch(e){console.log(e),this.checkoutErrors.push("The store configuration couldn't be loaded. Set your invoice details and payment gateway in Settings > Store.")}},async handleOrderButtonClick(){try{if(this.orderInProgress=!0,this.checkoutErrors=(0,_._L)(this.orderDto),this.checkoutErrors.length)return void(this.orderInProgress=!1);const e=window.location.href.substring(0,window.location.href.lastIndexOf("."))+window.location.href.substring(window.location.href.lastIndexOf(".")).split("/")[0];if(!this.redirectUrl)return this.checkoutErrors.push("No Payment Success Redirect has been set. Please set a success action under Settings > Redirects"),void(this.orderInProgress=!1);const t=-1==this.redirectUrl.indexOf("http")?e+"/"+this.redirectUrl:this.redirectUrl;await window.__CONVERDY__.createEvent({scope:"checkout",name:"AddPaymentInfo"});const i=await k()({scope:"pay",paymentIntegration:this.selectedPaymentIntegrationObject,data:{...this.orderDto,url:window.location.href,redirectUrl:t,paymentOption:this.selectedPaymentOption}});"error"==i.msg&&(this.checkoutErrors.push(i.description),this.orderInProgress=!1)}catch(e){this.checkoutErrors.push("Unfortunately and error has occurred, please contact the site owner"),this.orderInProgress=!1,console.log(e)}}}};i(4915);const I=(0,r.A)(O,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseEl",{staticClass:"wrapper mt-2"},[e.storeConfigLoaded?i("form",{ref:"form",staticClass:"form baseFields",class:[e.properties.baseFields.variant],on:{"~click":function(t){return e.initiateCheckoutEvent.apply(null,arguments)},submit:function(e){e.preventDefault()}}},[i("h2",{staticClass:"text smallHeading fields-heading mb-4"},[e._v("Pricing")]),i("CheckoutPricingOptions",{staticClass:"mb-4",attrs:{currencyCode:this.currency,pricingOptions:e.pricingOptions,params:e.params},model:{value:e.pricingOptionId,callback:function(t){e.pricingOptionId=t},expression:"pricingOptionId"}}),i("CheckoutCustomerFields",{attrs:{properties:e.properties},model:{value:e.customer_info,callback:function(t){e.customer_info=t},expression:"customer_info"}}),i("div",{staticClass:"checkout-shipping-and-billing"},[i("CheckoutShippingFields",{attrs:{properties:e.properties},model:{value:e.shipping_info,callback:function(t){e.shipping_info=t},expression:"shipping_info"}}),i("CheckoutBillingFields",{attrs:{properties:e.properties},model:{value:e.billing_info,callback:function(t){e.billing_info=t},expression:"billing_info"}})],1),e.orderBump?i("CheckoutOrderBump",{attrs:{properties:e.properties,product:e.orderBump.product,"pricing-option-id":e.properties.orderBump.pricingOptionId,checked:e.includeOrderBump},on:{change:function(t){e.includeOrderBump=t}}}):e._e(),e.storeConfigLoaded&&e.paymentMethods?i("div",{staticClass:"checkout-payment-options"},[i("h2",{staticClass:"text smallHeading fields-heading mb-4"},[e._v("Payment")]),i("div",{staticClass:"payment-options-list"},[i("fieldset",[i("div",{staticClass:"space-y-5"},e._l(e.paymentMethods,(function(t){return i("div",{key:t.name+t.paymentIntegration,staticClass:"item",class:{active:t.name==e.selectedPaymentOption&&e.selectedPaymentIntegration==t.paymentIntegration},attrs:{value:t.name+t.paymentIntegration},on:{click:function(i){e.prevSelectedPaymentOption=e.selectedPaymentOption,e.prevSelectedPaymentIntegration=e.selectedPaymentIntegration,e.selectedPaymentOption=t.name,e.selectedPaymentIntegration=t.paymentIntegration,e.selectedPayment=t.name+t.paymentIntegration}}},[i("div",{staticClass:"flex items-center h-5"},[i("input",{attrs:{id:t.name,"aria-describedby":t.name,name:t.name,type:"radio"},domProps:{checked:t.name==e.selectedPaymentOption&&e.selectedPaymentIntegration==t.paymentIntegration}})]),i("label",{staticClass:"ml-2"},[i("span",{staticClass:"title"},[e._v(e._s(t.label))])])])})),0)])])]):e._e(),i("div",{staticClass:"checkout-payment-fields mt-4"},[i("div",{attrs:{id:"payment-input"}})]),i("div",{staticClass:"checkout-payment-summary mt-4"},[i("h2",{staticClass:"text smallHeading fields-heading mb-4"},[e._v("Summary")]),i("div",{staticClass:"summary-receipt"},[e.pricing&&e.pricing.receipt&&e.pricing.receipt.items&&e.pricing.receipt.items.length?i("div",[e.properties.paymentSummary.couponEnabled?i("div",{staticClass:"checkout-coupon"},[i("a",{staticStyle:{display:"inline-block",cursor:"pointer","margin-bottom":"10px"},on:{click:function(t){e.showCoupon=!e.showCoupon}}},[e._v("Got a coupon?")]),e.showCoupon?[0==e.pricing.receipt.totalDiscount?i("div",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.coupon,expression:"coupon"}],staticClass:"input",attrs:{type:"text",placeholder:"Enter coupon code"},domProps:{value:e.coupon},on:{input:function(t){t.target.composing||(e.coupon=t.target.value)}}}),i("span",{on:{click:e.applyCoupon}},[e._v("Apply")])]):e._e(),e.couponError?i("div",{staticClass:"coupon-error"},[e._v("\n                "+e._s(e.couponError)+"\n              ")]):e._e()]:e._e()],2):e._e(),i("div",{staticClass:"summary-items"},e._l(e.pricing.receipt.items,(function(t){return i("div",{key:t.id,staticClass:"summary-items-list"},[i("div",{staticClass:"summary-item-line-1"},[i("div",{staticClass:"text"},[e._v("\n                  "+e._s(t.name)+"\n                ")]),i("div",{staticClass:"text"},[e._v("\n                  "+e._s(e.formatCurrency(t.totalWitoutDiscountAndVat,e.pricing.currency.code))+"\n                ")])])])})),0),e.pricing.receipt.coupon?i("div",{staticClass:"summary-item-line-1"},[i("div",{staticClass:"text"},[e._v("\n              "+e._s(e.pricing.receipt.coupon)+" -\n              "),i("span",{staticClass:"remove",on:{click:e.removeCoupon}},[e._v("Remove ")])]),i("div",{staticClass:"text"},[e._v("\n              -"+e._s(e.formatCurrency(e.pricing.receipt.totalDiscount,e.pricing.currency.code))+"\n            ")])]):e._e(),i("Divider"),i("div",{staticClass:"summary-item-line-1"},[i("div",{staticClass:"text"},[e._v("Tax")]),i("div",{staticClass:"text"},[e._v("\n              "+e._s(e.formatCurrency(e.pricing.receipt.totalVat,e.pricing.currency.code))+"\n            ")])]),i("Divider"),i("div",[i("div",{staticClass:"summary-total"},[i("div",{staticClass:"text font-bold"},[e._v("Total")]),i("div",{staticClass:"text font-bold"},[e._v("\n                "+e._s(e.formatCurrency(e.pricing.receipt.total,e.pricing.currency.code))+"\n              ")])])])],1):i("div",[i("p",{staticClass:"text empty"},[e._v("No pricing selected")])]),i("div",{staticClass:"button-container"},[i("BaseButton",{staticClass:"button mb-4",attrs:{loading:e.orderInProgress,type:"submit",properties:Object.assign({},e.properties.button)},nativeOn:{click:function(t){return e.handleOrderButtonClick.apply(null,arguments)}}},[e._v("\n            Order\n          ")]),e.pricing?i("div",{staticClass:"summary-pricing-description"},e._l(e.pricing.description,(function(t){return i("div",{key:t},[e._v("\n              "+e._s(t)+"\n            ")])})),0):e._e()],1)])])],1):e._e(),e.checkoutErrors.length?i("ul",e._l(e.checkoutErrors,(function(t,n){return i("li",{key:n},[e._v("\n      "+e._s(t)+"\n    ")])})),0):e._e()])}),[],!1,null,"7cd99cf6",null).exports},9382:(e,t,i)=>{(t=i(5077)(!1)).push([e.id,".pricing-option-label[data-v-3cfa0048]{display:flex;align-items:center;justify-content:space-between;padding:30px 15px;margin-bottom:15px;background-color:#fff;border-radius:var(--themeShape);border:1px solid var(--color-greyDefault)}.pricing-option-label.active[data-v-3cfa0048]{border:1px solid var(--color-primary)}.pricing-option-label.active .indicator[data-v-3cfa0048]{background:var(--color-primary);border:1px solid var(--color-primary)}.pricing-option[data-v-3cfa0048]{cursor:pointer}.pricing-option .text-group[data-v-3cfa0048]{display:flex;flex-grow:1;justify-content:space-between;margin-right:15px}.pricing-option .indicator[data-v-3cfa0048]{display:block;flex-shrink:0;width:15px;height:15px;border-radius:100%;border:1px solid var(--color-greyDefault);margin-right:15px}.pricing-option .name[data-v-3cfa0048]{display:flex;align-items:center}.pricing-option .price[data-v-3cfa0048]{display:flex;align-items:center}.pricing-option .price .type[data-v-3cfa0048]{color:var(--color-greyDefault)}@media screen and (max-width: 576px){.pricing-option .text-group[data-v-3cfa0048]{flex-direction:column}.pricing-option .price[data-v-3cfa0048]{margin-top:5px}}",""]),e.exports=t},9624:(e,t,i)=>{var n=i(5322);n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals),(0,i(8665).A)("f59f791a",n,!0,{})},9679:(e,t,i)=>{var n=i(2641);n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals),(0,i(8665).A)("d5bf8a90",n,!0,{})},9760:(e,t,i)=>{var n=i(9382);n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals),(0,i(8665).A)("0e58ca58",n,!0,{})},9844:(e,t,i)=>{(t=i(5077)(!1)).push([e.id,'.checkout-billing-fields[data-v-26b2399e]{margin-bottom:20px}.two-cols[data-v-26b2399e]{display:grid;grid-gap:15px;grid-template-columns:1fr 1fr}.input[data-v-26b2399e]{width:100%;display:block;margin-bottom:15px;-moz-appearance:none;-webkit-appearance:none;appearance:none}.select-field[data-v-26b2399e]{position:relative}.select-field[data-v-26b2399e]:after{pointer-events:none;position:absolute;font-family:"converdy";font-weight:900;font-size:20px;content:"";top:0;right:0;width:30px;height:100%;margin-top:15px}@media screen and (max-width: 769px){.two-cols[data-v-26b2399e]{display:grid;grid-gap:0;grid-template-columns:1fr}}',""]),e.exports=t}}]);